<!DOCTYPE html>
<html lang="en" ng-app="app" class="no-js">
<head>

<!-- Meta tags -->
<meta http-equiv="X-UA-Compatible" content="IE=11; IE=EDGE" />
<meta charset="utf-8" />
<meta name="viewport" content="width=100%, height=100% initial-scale=1.0">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<!-- Set the context root of the site -->
<base href="/">
<script src="../angular.min.js"></script>

<script src="/lodash/app.js"></script>
<script src="/lodash/services.js"></script>
<script src="/lodash/memoize.js"></script>
<script src="/lodash/clsPerson.js"></script>
<script src="/lodash/app.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<script src='https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)'></script>
<script>
// Loading `lodash.fp.js` converts `_` to its fp variant.
console.log(_.defaults({ 'a': 2, 'b': 2 })({ 'a': 1 }));
// ➜ { 'a': 1, 'b': 2 }

// Use `noConflict` to restore the pre-fp variant.
var fp = _.noConflict();

console.log(_.defaults({ 'a': 1 }, { 'a': 2, 'b': 2 }));
// ➜ { 'a': 1, 'b': 2 }
console.log(fp.defaults({ 'a': 2, 'b': 2 })({ 'a': 1 }));
// ➜ { 'a': 1, 'b': 2 }


//memoize - factorial (its a pure function w/o any side effects)
// However, its never called recursively with the same  argument
// so memoization is overkill
function factorial(num) {
  if(num === 1) { return 1 };
  console.log(num);
  return num * factorial(num - 1);
}

function fib( x ) {
    console.log('working fib... %d', x);
    if(x < 2) return 1; else return fib(x-1) + fib(x-2);
}

var fact = memoize21(factorial,function(){});
console.log(fact(10));
console.log(fact(10)); // successive calls will return precalculated value from memoization (won't see console.logs)

console.log(factorial(10));
console.log(factorial(10)); // successive calls will recalc and will see console.logs)

var fibFn = _.memoize(fib);
console.log(fibFn(5));
console.log(fibFn(5)); // successive calls will not recalc and will see console.logs)
console.log(fib(5));
console.log(fib(5)); // successive calls will recalc and will see console.logs)

</script>
</head>

<body ng-controller=appController><body>
Hello
</body>
</html>
